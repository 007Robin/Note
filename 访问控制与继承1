/* Robin007 -- 访问控制与继承 */
class Base{
public:
    int pub_mem();
private:
    char priv_mem;
protected:
    int prot_mem;
};
//受保护的成员
class Sneaky : public Base {
    friend void clobber(Sneaky &s) { //能访问Sneaky：：prot_mem
        s.j = s.prot_mem = 0;       //✅ clobber可访问Sneaky对象的private和protected成员
    }
    friend void clobber(Base &b) { //不能访问Base：： prot_mem
        b.prot_mem = 0;            //❌不可访问Base的protect成员
    }
    int j;                      //j 默认private
};
//Public private protected继承
struct Pub_Derv : public Base{
    int f() {
        return prot_mem;    //派生类能访问protected成员
    }
    char g() {
        return priv_mem;     //❌派生类不可访问private成员
    }
};
struct Priv_Derv : private Base{
    //private不影响派生类对Base访问权限，控制派生类用户及其派生类的派生类们对Base成员的访问
    int f1() const {
        return prot_mem;    
    }
};
//用户
Pub_Derv d1;    //继承自Base的成员是public的
Priv_Derv d2;   //继承自Base的成员是private的
d1.pub_mem();   // ✅ pub_mem在派生类是public的
d2.pub_mem();   // ❌ pub_mem在派生类是private的
//派生类的派生类
struct Derived_from_Public : public Pub_Derv {
    int use_base() {
        return prot_mem;    //✅ Base::prot_mem在Pub_Derv中依然是protected的
    }
};

struct Derived_from_Private : public Priv_Derv {
    int use_base() {
        return prot_mem;    //❌ Base::prot_mem在Priv_Derv中是private的
    }
};
